# NH-stock-holding

NH투자증권 빅데이터 경진대회 예선 과제  
주식 종목별 보유기간 예측 모델 (LightGBM)

## 프로젝트 개요
본 프로젝트는 고객의 거래 이력과 시장 지표를 활용해  
**주식 종목별 보유기간(holding days)** 을 예측하는 머신러닝 모델을 구현한 예선 과제입니다.

보유기간은 고객의 투자 성향과 행동을 반영하는 핵심 지표로,  
이를 정량적으로 예측하는 것을 목표로 했습니다.

---

## 문제 정의
- 고객이 매수한 주식을 **얼마나 오래 보유할지** 예측
- 고객 특성, 거래 패턴, 시장 상황을 함께 고려

---

## 접근 방법

### 1. 기준일(ref_day)과 이력 기간(hist_d) 정의
- 매수일 이후 특정 **기준일(ref_day)** 을 설정
- 기준일까지의 영업일 구간을 **이력 기간(hist_d)** 으로 정의
- 테스트 데이터에서도 동일한 기준을 유지해 학습/추론 구조를 일관되게 설계

### 2. 시장 지표 반영 (kospi_diff)
- 매수 시점과 매도(또는 기준) 시점 간 **KOSPI 지수 변화량(kospi_diff)** 생성
- 시장 흐름에 따라 고객의 보유/매도 결정이 달라질 수 있다는 가정을 반영
- KOSPI 지수는 공개 외부 데이터를 활용

### 3. 학습 데이터 구성
- 고객 특성 정보
- 주식 거래 및 보유 이력
- 종목 관련 정보
- 시장 지표 파생 변수  
→ 위 데이터를 병합해 최종 학습 데이터 구성

※ 대회 규정에 따라 원본 데이터 및 상세 스키마는 공개하지 않습니다.

---

## 모델
- **LightGBM Regressor**
- K-Fold 교차 검증 적용
- RMSE 기준 성능 평가
- 기준일 및 시장 지표 설정에 따른 성능 비교 후 최종 모델 선정

---

## 결과
- 주식 종목별 보유기간 예측값 산출
- 예측 결과를 제출 형식에 맞게 생성

---

## 비고
- 본 저장소는 **대회 제출 코드 및 접근 방법을 정리한 포트폴리오용 저장소**입니다.
- 대회 제출 PDF 및 원본 데이터는 공개하지 않습니다.

# NH-stock-holding

NH투자증권 빅데이터 경진대회 예선 과제  
주식 종목별 보유기간 예측 모델 (LightGBM)

## 프로젝트 개요
본 프로젝트는 고객의 거래 이력과 시장 지표를 활용해  
**주식 종목별 보유기간(holding days)**을 예측하는 머신러닝 모델을 구현한 예선 과제입니다.

보유기간은 고객의 투자 성향과 행동을 반영하는 핵심 지표로,  
이를 정량적으로 예측하는 것을 목표로 했습니다.

---

## 문제 정의
- 고객이 매수한 주식을 **얼마나 오래 보유할지** 예측
- 고객 특성, 거래 패턴, 시장 상황을 함께 고려

---

## 접근 방법

### 1. 기준일(ref_day)과 이력 기간(hist_d) 정의
- 매수일 이후 특정 **기준일(ref_day)**을 설정
- 기준일까지의 영업일 구간을 **이력 기간(hist_d)**으로 정의
- 테스트 데이터에서도 동일한 기준을 유지해 학습/추론 구조를 일관되게 설계

### 2. 시장 지표 반영 (kospi_diff)
- 매수 시점과 매도(또는 기준) 시점 간 **KOSPI 지수 변화량(kospi_diff)** 생성
- 시장 흐름에 따라 고객의 보유/매도 결정이 달라질 수 있다는 가정을 반영
- KOSPI 지수는 공개 외부 데이터를 활용

### 3. 학습 데이터 구성
- 고객 특성 정보
- 주식 거래 및 보유 이력
- 종목 관련 정보
- 시장 지표 파생 변수  
→ 위 데이터를 병합해 최종 학습 데이터 구성

※ 대회 규정에 따라 원본 데이터 및 상세 스키마는 공개하지 않습니다.

---

## 모델
- **LightGBM Regressor**
- K-Fold 교차 검증 적용
- RMSE 기준 성능 평가
- 기준일 및 시장 지표 설정에 따른 성능 비교 후 최종 모델 선정

---

## 결과
- 주식 종목별 보유기간 예측값 산출
- 예측 결과를 제출 형식에 맞게 생성

---

## 비고
- 본 저장소는 **대회 제출 코드 및 접근 방법을 정리한 포트폴리오용 저장소**입니다.

https://dacon.io/en/competitions/official/235798/leaderboard

<img width="800" height="" alt="image" src="https://github.com/user-attachments/assets/33172c08-354c-4b59-8a3b-8b54662aca15" />

<img width="800" height="451" alt="image" src="https://github.com/user-attachments/assets/669f103e-6811-413a-91de-015a1877dcfd" />

<img width="800" height="451" alt="image" src="https://github.com/user-attachments/assets/07ff5c44-6849-464b-a70b-9163e910cddc" />

<img width="800" height="451" alt="image" src="https://github.com/user-attachments/assets/af1bfecc-32ac-4ff0-a7d1-e5cca1a65ebb" />

<img width="800" height="451" alt="image" src="https://github.com/user-attachments/assets/9151f9c3-82d1-4028-9224-b135feea1d6a" />


